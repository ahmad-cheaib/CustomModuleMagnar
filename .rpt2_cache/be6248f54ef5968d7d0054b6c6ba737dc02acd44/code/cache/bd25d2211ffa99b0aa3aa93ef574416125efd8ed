{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { UtilityService } from './utility.service';\r\nimport { catchError, finalize } from 'rxjs/operators';\r\nimport { NgProgress } from '@ngx-progressbar/core';\r\nimport { ConfigurationService } from './configuration.service';\r\nlet PositionService = class PositionService {\r\n    constructor(http, ngProgress, utilityService, configurationService) {\r\n        this.http = http;\r\n        this.ngProgress = ngProgress;\r\n        this.utilityService = utilityService;\r\n        this.configurationService = configurationService;\r\n        this.uploadData = (data, companyId) => {\r\n            return this.http\r\n                .post(this.urlPositionAPI + `/ImportData?companyId=${companyId}`, JSON.stringify(data))\r\n                .pipe(catchError(this.utilityService.handleErrorPromise));\r\n        };\r\n        this.uploadMasterDataByName = (data, companyId, name) => {\r\n            const urlData = `/UploadMasterData?companyId=` + companyId;\r\n            return this.http\r\n                .post(this.urlPositionAPI + urlData, JSON.stringify(data))\r\n                .pipe(catchError(this.utilityService.handleErrorPromise));\r\n        };\r\n        this.urlPositionAPI = this.configurationService.baseUrl + '/api/Position';\r\n        this.urlDivisionAPI = this.configurationService.baseUrl + '/api/Division';\r\n        this.urlDepartmentAPI = this.configurationService.baseUrl + '/api/Department';\r\n        this.urlUnitAPI = this.configurationService.baseUrl + '/api/Unit';\r\n    }\r\n    getPosition(id) {\r\n        return this.http\r\n            .get(this.urlPositionAPI + '/GetPosition?id=' + id)\r\n            .pipe(catchError(this.utilityService.handleErrorPromise));\r\n    }\r\n    getEmployeeInPosition(id) {\r\n        return this.http\r\n            .get(this.urlPositionAPI + '/GetEmployeeInPosition?id=' + id)\r\n            .pipe(catchError(this.utilityService.handleErrorPromise));\r\n    }\r\n    getPositions(companyId) {\r\n        return this.http\r\n            .get(this.urlPositionAPI + '/GetPositionsByCompanyId?companyId=' + companyId)\r\n            .pipe(catchError(this.utilityService.handleErrorPromise));\r\n    }\r\n    getPositionsAssignments(companyId) {\r\n        return this.http\r\n            .get(this.urlPositionAPI + '/GetPositionsAssignmentsByCompanyId?companyId=' + companyId)\r\n            .pipe(catchError(this.utilityService.handleErrorPromise));\r\n    }\r\n    GetPositionsAssignmentsChartByCompanyId(companyId) {\r\n        return this.http\r\n            .get(this.urlPositionAPI + '/GetPositionsAssignmentsChartByCompanyId?companyId=' + companyId)\r\n            .pipe(catchError(this.utilityService.handleErrorPromise));\r\n    }\r\n    deletePosition(id) {\r\n        this.ngProgress.ref().start();\r\n        return this.http\r\n            .delete(this.urlPositionAPI + '/DeletePosition?id=' + id)\r\n            .pipe(finalize(() => this.ngProgress.ref().complete()));\r\n    }\r\n    insertPosition(data) {\r\n        this.ngProgress.ref().start();\r\n        return this.http.post(this.urlPositionAPI + '/PostPosition?', JSON.stringify(data)).pipe(finalize(() => this.ngProgress.ref().complete()), catchError(this.utilityService.handleErrorPromise));\r\n    }\r\n    PostPositionWithNumber(data, count) {\r\n        this.ngProgress.ref().start();\r\n        return this.http.post(this.urlPositionAPI + '/PostPositionWithNumber?', JSON.stringify({ \"Position\": data, \"Count\": count })).pipe(finalize(() => this.ngProgress.ref().complete()), catchError(this.utilityService.handleErrorPromise));\r\n    }\r\n    updatePosition(data) {\r\n        this.ngProgress.ref().start();\r\n        return this.http.put(this.urlPositionAPI + '/PutPosition?', JSON.stringify(data)).pipe(finalize(() => this.ngProgress.ref().complete()), catchError(this.utilityService.handleErrorPromise));\r\n    }\r\n    downloadTemplate() {\r\n        return this.http\r\n            .get(this.urlPositionAPI + `/DownloadJobTemplate`, {\r\n            responseType: 'blob',\r\n        })\r\n            .pipe(catchError(this.utilityService.handleErrorPromise));\r\n    }\r\n};\r\nPositionService = __decorate([\r\n    Injectable({\r\n        providedIn: 'root'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [HttpClient,\r\n        NgProgress,\r\n        UtilityService,\r\n        ConfigurationService])\r\n], PositionService);\r\nexport { PositionService };\r\n//# sourceMappingURL=position.service.js.map","map":{"version":3,"file":"position.service.js","sourceRoot":"","sources":["../../src/app/service/position.service.ts"],"names":[],"mappings":"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"}}
