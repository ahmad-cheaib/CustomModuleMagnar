{"code":"import { __decorate, __metadata } from \"tslib\";\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { UtilityService } from './utility.service';\r\nlet LeaveRequestService = class LeaveRequestService {\r\n    constructor(_Http, _UtilityService) {\r\n        this._Http = _Http;\r\n        this._UtilityService = _UtilityService;\r\n        this.urlLeaveRequestAPI = 'http://localhost:1478/api/LeaveRequest';\r\n    }\r\n    GetLeaves() {\r\n        return this._Http.get(\"http://localhost:1478/api/Leave/GetLeaves?companyId=1\").pipe();\r\n    }\r\n    getById(id) {\r\n        return this._Http\r\n            .get(this.urlLeaveRequestAPI + '/GetById?id=' + id)\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    getLeaveRequest(id) {\r\n        return this._Http\r\n            .get(this.urlLeaveRequestAPI + '/GetLeaveRequest?id=' + id)\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    getLeaveRequestAttachment(id) {\r\n        return this._Http\r\n            .get(this.urlLeaveRequestAPI + '/GetLeaveRequestAttachment?leaveRequestId=' + id, { responseType: 'arraybuffer' })\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    getLeaveRequests(companyId, employeeId) {\r\n        return this._Http\r\n            .get(`${this.urlLeaveRequestAPI}/GetLeaveRequests?companyId=${companyId}&employeeId=${employeeId}`)\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    getLeaveRequestsByUsername(companyId) {\r\n        return this._Http\r\n            .get(`${this.urlLeaveRequestAPI}/GetLeaveRequestsByUsername?companyId=${companyId}`)\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    getLeaveRequestsForApproval(statusId, companyId) {\r\n        return this._Http\r\n            .get(`${this.urlLeaveRequestAPI}/GetLeaveRequestsForApproval?status=${statusId}&companyId=${companyId}`)\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    getLeaveRequestDays(employeeId, fromDate, toDate, leaveId) {\r\n        return this._Http\r\n            .get(this.urlLeaveRequestAPI + '/GetLeaveRequestDays?employeeId=' + employeeId + '&fromDate=' + fromDate + '&toDate=' + toDate + '&leaveId=' + leaveId)\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    getLeaveRequestGradeDays(companyId, leaveId, employeeId, year, daysCount) {\r\n        return this._Http\r\n            .get(this.urlLeaveRequestAPI + '/GetLeaveRequestGradeDays?companyId=' + companyId + '&leaveId=' + leaveId + '&employeeId=' +\r\n            employeeId + '&year=' + year + '&daysCount=' + daysCount)\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    checkLeaveRequest(companyId, leaveId, employeeId, year, daysCount) {\r\n        return this._Http\r\n            .get(this.urlLeaveRequestAPI + '/CheckLeaveRequest?companyId=' + companyId + '&leaveId=' + leaveId + '&employeeId=' + employeeId +\r\n            '&year=' + year + '&daysCount=' + daysCount)\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    updateLeaveRequest(data) {\r\n        return this._Http.put(this.urlLeaveRequestAPI + '/PutLeaveRequest', data, { withCredentials: true }).pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    insertLeaveRequest(data) {\r\n        return this._Http.post(this.urlLeaveRequestAPI + '/PostLeaveRequest', data, { withCredentials: true }).pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    deleteLeaveRequest(id) {\r\n        return this._Http.delete(this.urlLeaveRequestAPI + '/DeleteLeaveRequest?id=' + id)\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n    validateWFConfig(companyId, leaveId) {\r\n        return this._Http\r\n            .get(`${this.urlLeaveRequestAPI}/ValidatePreRequestCreation?companyId=${companyId}&leaveId=${leaveId}`)\r\n            .pipe(catchError(this._UtilityService.handleErrorPromise));\r\n    }\r\n};\r\nLeaveRequestService = __decorate([\r\n    Injectable({\r\n        providedIn: 'root'\r\n    }),\r\n    __metadata(\"design:paramtypes\", [HttpClient,\r\n        UtilityService])\r\n], LeaveRequestService);\r\nexport { LeaveRequestService };\r\n//# sourceMappingURL=leaveRequest.service.js.map","map":{"version":3,"file":"leaveRequest.service.js","sourceRoot":"","sources":["../../src/app/service/leaveRequest.service.ts"],"names":[],"mappings":"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"}}
